<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Color Sampler Demo</title>
	<script type="text/javascript" src="../../../tests/qunit/qunit-bootstrap.js"></script>
	<script type="text/javascript" src="../../../mwEmbedLoader.php"></script>
	<script type="text/javascript" src="../../../docs/js/doc-bootstrap.js"></script>
	<script>mw.setConfig('forceMobileHTML5', true);</script>
</head>
<body>
	<h1>Color Sampler Demo</h1>
	<div id="kaltura_player" style="width: 750px; height: 460px;float: left;"></div>
	<br style="clear: both;" /><br />
<script>
    var kdp;
	kWidget.featureConfig({
		'targetId': 'kaltura_player',
		'wid': '_1645161',
		'uiconf_id' : '32872141',
        'readyCallback': function(id){
            kdp = document.getElementById(id);
            kdp.kBind("videoColorPaletteEvent", function(palette){
                $("#avg").show();
                for (var i=0; i<palette.length; i++){
                    var color = palette[i];
                    var colorDiv = $("<div style='width: 25px; height: 25px; display: inline-block'></div>").css("background-color", "rgb("+color+")");
                    $("#palette").append(colorDiv);
                }
            })
        },
		'flashvars': {
            'mediaProxy.preferedFlavorBR': 1600,
            'EmbedPlayer.ShowPosterOnStop': false,
			'colorSampler': {
				'plugin': true,
                'position': 'bottom',
                'sampleInterval': 500,
                'calculateAveragePalette': true
			}
		},
		"entry_id": "1_a8tvzcfx"
	});

    function changeSamplerPosition(sel){
        kdp.setKDPAttribute('colorSampler', 'position', sel.value );
    }
</script>

<p>
    <span>Select sampler position: </span><br>
    <select onchange="changeSamplerPosition(this)">
        <option value="bottom">Bottom</option>
        <option value="right">Right</option>
    </select>
    <br>
    <span id="avg" style="display: none">Average color palette:</span><br>
    <div id="palette" style="width: 750px; line-height: 0px"></div>
</p>
</body>
</html>